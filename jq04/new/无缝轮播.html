<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
				list-style: none;
			}
			img{
				width: 100%;
			}
			.carousel_img img{
				position: absolute;
			}
			.carousel{
				position: relative;
				overflow: hidden;
			}
			button{
				position: absolute;
				top: 50%;
			}
			button:nth-of-type(1){
				left: 20px;
			}
			button:nth-of-type(2){
				right: 20px;
			}
			ul{
				position: absolute;
				bottom: 20px;
				left: 50%;
			}
			li{
				width: 10px;
				height: 10px;
				border-radius: 50%;
				display: inline-block;
				background: #fff;
			}
			.rimg{
				left: 100%;
			}
			.limg{
				left: -100%;
			}
			.active{
				background: red;
			}
		</style>
	</head>
	<body>
		<div class="carousel">
			<div class="carousel_img">
				<img src="img/wow1.jpg"/>
			</div>
			<img src="img/wow1.jpg"/>
			<button><</button>
			<button>></button>
			<ul>
				<li class="active"></li>
				<li></li>
				<li></li>
			</ul>
		</div>
		
		<script src="jquery-1.11.3.min.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			var srcs=["img/wow1.jpg","img/wow2.jpg","img/wow3.jpg"];
			var i=0;
			$(".carousel").click(e=>{
				var target=e.target;
				if(!$("img").is(":animated")){
					if($(target).html()=="&gt;"){
						i++;
						if(i==srcs.length){
							i=0;
						}
						var $img=$(`<img class='rimg' src='${srcs[i]}' />`);
						$(".carousel_img").append($img);
						
						$("img:eq(0)").animate({
							"left":"-100%"
						},1000,()=>{
							$("img:eq(0)").remove();
						})
						$("img:eq(1)").animate({
							"left":"0%"
						},1000)
						
						$($("li")[i]).addClass("active");
						$($("li")[i]).siblings().removeClass();
						
					}else if($(target).html()=="&lt;"){
						i--;
						if(i==-1){
							i=srcs.length-1;
						}
						var $img=$(`<img class='limg' src='${srcs[i]}' />`);
						$(".carousel_img").append($img);
						
						$("img:eq(0)").animate({
							"left":"100%"
						},1000,()=>{
							$("img:eq(0)").remove();
						})
						$("img:eq(1)").animate({
							"left":"0%"
						},1000)
						
						$($("li")[i]).addClass("active");
						$($("li")[i]).siblings().removeClass();
					}else if(target.nodeName=="LI"){
						var oldi=$(".active").index();
						i=$(target).index();
						if(i>oldi){
							var $img=$(`<img class='rimg' src='${srcs[i]}' />`);
							$(".carousel_img").append($img);
							
							$("img:eq(0)").animate({
								"left":"-100%"
							},1000,()=>{
								$("img:eq(0)").remove();
							})
							$("img:eq(1)").animate({
								"left":"0%"
							},1000)
							
							$($("li")[i]).addClass("active");
							$($("li")[i]).siblings().removeClass();
						}else{
							var $img=$(`<img class='limg' src='${srcs[i]}' />`);
							$(".carousel_img").append($img);
							
							$("img:eq(0)").animate({
								"left":"100%"
							},1000,()=>{
								$("img:eq(0)").remove();
							})
							$("img:eq(1)").animate({
								"left":"0%"
							},1000)
							
							$($("li")[i]).addClass("active");
							$($("li")[i]).siblings().removeClass();
						}
					}
				}
			})
			
		</script>
	</body>
</html>
